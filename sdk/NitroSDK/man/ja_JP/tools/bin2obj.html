<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>bin2obj</TITLE>
<LINK rel="stylesheet" href="../css/nitro.css" type="text/css">
<STYLE type="text/css">
<!--
.sample_source{
  background-color : #e8e8e8;
}
H3{
  color : teal;
}
.command_list{
  margin-bottom : 16pt;
}
.command_desc{
  }
.command_item{
  margin-top : 16pt;
  background-color : #e8e8e8;
}
.blockquoted_table {
  border : 1px;
  width : 80%;
}
TD,TH{
  border-color	: #c0d8d8;
  padding       : 1pt 4pt 1pt 4pt;
  border-width  : 1px;
  border-style  : solid;
}
-->
</STYLE>
</HEAD>
<BODY>
<H1 align="left">bin2obj</H1>
<H2>説明</H2>
<P><CODE>　bin2obj</CODE> は、バイナリファイルを CodeWarrior などの C コンパイラのリンカで直接リンク可能なオブジェクトファイルに変換するためツールです。</P>
<H2>使用方法</H2>
<H3>起動コマンド</H3>
<PRE><CODE>% bin2obj BINARY_FILE OBJECT_FILE
                  [-b|--begin SYMBOL_BEGIN] [-e|--end SYMBOL_END]
                  [-C|--compatible] [-a|--align ALIGNMENT] [-r|--readonly] [-s|--section SECTION]</CODE></PRE>
<P><CODE>BINARY_FILE</CODE> で指定されたバイナリファイルをリンク可能なオブジェクト形式へ変換し、<CODE>OBJECT_FILE</CODE> という名で出力します。CodeWarrior for NINTENDO DS パッケージ内に同梱されている BinToElf ツールと同様の働きをします。</P>
<P><CODE>-b</CODE> オプションおよび <CODE>-e</CODE> オプションで、バイナリファイル内のデータへ C 言語などのプログラムからアクセスするためのシンボルを指定します。<CODE>-b</CODE> の代わりに <CODE>--begin</CODE> を、また <CODE>-e</CODE> の代わりに <CODE>--end</CODE> という長いオプションも使用できます。</P>
<P>データ領域の先頭シンボルとして <CODE>SYMBOL_BEGIN</CODE> で指定したシンボル名が、また末尾のシンボル(正確には最終データの次のアドレスを指します)として
<CODE>SYMBOL_END</CODE> で指定したシンボル名がそれぞれ設定されます。バイナリ領域のサイズは <CODE>SYMBOL_END</CODE> で示される値から <CODE>SYMBOL_BEGIN</CODE> で示される値を減じたものとなります。　</P>
<P>また、このシンボル名の指定に <CODE>%f,%t,%b および %e</CODE> という特別なキーワードを使用できます。このキーワードは以下のように <CODE>BINARY_FILE</CODE> で指定されたバイナリファイルの名称の一部分を参照します。</P>
<BLOCKQUOTE>
<DL>
  <DT><CODE>%f</CODE> または <CODE>%t</CODE>
  <DD><CODE>BINARY_FILE</CODE> のディレクトリ部分を除いた部分
  <DT><CODE>%b</CODE>
  <DD><CODE>BINARY_FILE</CODE> のディレクトリ部分と拡張子を除いた部分
  <DT><CODE>%e</CODE>
  <DD><CODE>BINARY_FILE</CODE> の拡張子(ドットは含まれません)
</DL>
</BLOCKQUOTE>
<P>このオプションが指定されないときのデフォルト値は <CODE>SYMBOL_BEGIN</CODE> が <CODE>%b_begin</CODE> および <CODE>SYMBOL_END</CODE> が <CODE>%b_end</CODE> となっています。</P>
<P><CODE>-C </CODE>オプションは CodeWarrior for NINTENDO DS 付属の BinToElf ツールと互換性のあるシンボルを生成するためのオプションです。<CODE>-C</CODE> の代わりに <CODE>--compatible</CODE> という長いオプションも使用できます。<CODE>-C は</CODE>以下のオプションが指定されているのと等価です。</P>
<BLOCKQUOTE>
<P><CODE>-b _binary_%f -e _binary_%f_end</CODE></P>
</BLOCKQUOTE>
<P><CODE>-a</CODE> オプションは、バイナリファイルをオブジェクト化したときのデータブロックのアラインメント値を指定するためのオプションです。<CODE>-a</CODE> の代わりに <CODE>--align</CODE> という長いオプションも使用できます。デフォルト値は 4 です。</P>
<P><CODE>-r</CODE> オプションが指定されるとデータブロックを読み込み専用のセクション(通常は <CODE>.rodata</CODE> セクション)として扱います。<CODE>-r</CODE> の代わりに <CODE>--readonly</CODE> という長いオプションも使用できます。このオプションが指定されていない場合は、データブロックは読み書き可能なセクション(通常は <CODE>.data</CODE> セクション)として扱われます。</P>
<P><CODE>-s</CODE> オプションでデータブロックのセクション名を指定できます。<CODE>-s</CODE> の代わりに <CODE>--section</CODE> という長いオプションも使用できます。指定のない場合は、読み込み専用のデータブロックのセクション名として <CODE>.rodata</CODE>、読み書き可能なセクション名として <CODE>.data</CODE> が使用されます。</P>
<H2>場所</H2>
<P><CODE>$NitroSDK/tools/bin/bin2obj.exe</CODE></P>
<H2>参照</H2>
<P>CodeWarrior for NINTENDO DS パッケージ内の BinToElf ツール</P>
<H2>履歴</H2>
<P>2005/06/14 初版</P>
</BODY>
</HTML>