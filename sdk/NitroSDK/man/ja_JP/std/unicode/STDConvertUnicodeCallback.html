<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 8.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>STDConvertUnicodeCallback</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>

<h1 align="left">STDConvertUnicodeCallback</h1>

<h2>定義</h2>

<dl>
  <dd>
<CODE>#include &lt;nitro/std.h&gt;</CODE><BR>
  <PRE><CODE>typedef <a href="STDResult.html">STDResult</a> (*STDConvertUnicodeCallback) (u16 *dst, int *dst_len, const char *src, int *src_len);</CODE></PRE>
  </dd>

</dl><h2>引数</h2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
      <TD width="30%"><em><strong>dst</strong></em></TD>
      <TD width="70%">変換したUnicode形式の文字を格納するポインタ</TD>
    </TR>
    <TR>
      <TD width="30%"><em><strong>dst_len</strong></em></TD>
      <TD width="70%">変換先バッファに格納できる最大文字数を受け、実際に格納された文字数を返すためのポインタ<br>
      バイトサイズでない点に注意してください。</TD>
    </TR>
    <TR>
      <TD width="30%"><em><strong>src</strong></em></TD>
      <TD width="70%">ShiftJIS形式の文字列で変換に失敗した位置を指すポインタ</TD>
    </TR>
    <TR>
      <TD width="30%"><em><strong>srclen</strong></em></TD>
      <TD width="70%">srcが指す未変換の残りのバイトサイズを受け、実際に変換に要したバイトサイズを返すためのポインタ</TD>
    </TR>
  </TBODY>
</TABLE>

<h2>返り値</h2>
<p>変換が成功したら<a href="STDResult.html">STD_RESULT_SUCCESS</a>を、変換に失敗したら<a href="STDResult.html">STD_RESULT_CONVERSION_FAILED</a>を返してください。<br>
引数dst_lenとsrc_lenにはそれぞれ、実際に変換で使用した文字数を格納して返してください。</p>

<H2>説明</H2>
<P>
<A href="STD_ConvertStringSjisToUnicode.html"><CODE>STD_ConvertStringSjisToUnicode</CODE></A>関数で設定するコールバック関数の型です。<BR>
<A href="STD_ConvertStringSjisToUnicode.html"><CODE>STD_ConvertStringSjisToUnicode</CODE></A>関数内で変換できない文字を検出するたびに呼び出され、
ここで変換処理を自由に規定することができます。<BR>
<br>
dstには常に4文字分の配列が保証されており、ここへ変換結果の文字を格納してください。終端を付加する必要はありません。<br>
srclenには今回の変換によって読み進めるべきsrcの1文字分のバイトサイズを格納してください。<br>
<br>
srcおよびdstいずれも、変換結果が2文字以上となりつつバッファ終端を越える場合には、変換結果を無視して終端に達したものとみなします。<br>
</P>

<h2>参照</h2>
<p>
<a href="STDResult.html">STDResult</a><br>
<A href="STD_ConvertStringSjisToUnicode.html">STD_ConvertStringSjisToUnicode</A>
</p>

<H2>履歴</H2>
<P>
2006/08/10 インタフェース変更。<br>
2006/07/24 インタフェース変更。返り値の制限に関する追記。<br>
2006/07/05 初版<br>
</P>
</body>
</html>
