<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE>カードアクセス全般 (overview)</TITLE>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>
<BODY>
<H1 align="left">カードアクセス全般 (overview)</H1>
<H2>説明</H2>
<P>CARDライブラリはニンテンドーDS専用ゲームカード（略称：DSカード）を制御するもっとも低水準のインタフェースライブラリであり、
DSカード自体の排他制御とROMアクセス、バックアップメモリアクセス、ならびに抜け検出の機構を提供します。
ファイルシステムライブラリ(FS)など、DSカードを使用する上位ライブラリは内部でCARDライブラリを使用しています。<br>
あらゆるCARDライブラリ関数の使用に先立ってあらかじめ<CODE><A href="../common/CARD_Init.html">CARD_Init</A></CODE>関数を呼び出しておく必要がありますが、
<CODE><A href="../../os/init/OS_Init.html">OS_Init</A></CODE>関数を呼び出している場合はその内部で呼び出されますので、特にアプリケーション側で呼び出す必要はありません。<br>
</P>
<HR>
<P><B>DSカードの構成</B></P>
<P>DSカードの内部ハードウェア構成について説明します。</P>
<BLOCKQUOTE><IMG src="image_CardAccess.gif" border="0"></BLOCKQUOTE>
<P>
DSカードはその内部に読み出し専用のROMデバイスを搭載し、さらに指定によっては1種類のバックアップメモリデバイスを搭載することがあります。
どちらのデバイスもメモリ空間にはマッピングされていないためこれらのデータへCPUから直接アクセスすることはできず、
データバスを経由して所定サイズ単位の転送コマンドを発行してアクセスする必要があります。<br>
<br>
ROMとバックアップは共通のデータバスを使用します。データバスは同時に1個のデバイスからのみ使用可能で、デバイスがコマンドを処理している間は占有されます。
占有中のデータバスを解放したり競合して使用するとデバイスの動作が不定となりますが、CARDライブラリがこれをソフトウェアレベルで排他制御しているため、
プロセス間やモジュール間でカードアクセスに競合が起こっても問題となることはありません。<br>
</P>
<H2>参照</H2>
<P><CODE><A href="../list_card.html">CARD関数一覧</A><BR>
</CODE></P>
<H2>履歴</H2>
<P>
2006/01/06 初版</P>
</BODY>
</HTML>