<HTML>
	<HEAD>
		<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<META http-equiv="Content-Style-Type" content="text/css">
		<TITLE>DWC_RnkInitialize</TITLE>
		<LINK rel="stylesheet" href="../../css/function.css">
		<BASE target="main">
	</HEAD>
	<BODY>
		<H1>DWC_RnkInitialize</H1>

		<H2>構文</H2>
		<DL>
			<DD>
				<PRE><CODE>
#include &lt;dwc.h&gt;

DWCRnkError DWC_RnkInitialize( const char*           initdata,
                               const DWCUserData*    userdata );
				</CODE></PRE>
			</DD>
		</DL>

		<H2>説明</H2>
		<P>
		  ランキングライブラリを初期化します。
		</P>
		<P>
		  ランキングライブラリは内部でGHTTPライブラリを使って通信を行います。そのため、本関数で初期化を行うと、内部でGHTTPライブラリの初期化も行われます。従って、ランキングライブラリとGHTTPライブラリによる通信を同時に行うことはできません。
		</P>
		<P>
		  終了するときには<a href="DWC_RnkShutdown.html">DWC_RnkShutdown</a>関数を呼び出してください。
		</P>
		<P>
		  既に初期化済みの場合や初期化データが不正な場合は失敗します。
		</P>
		<P>
		  ユーザーデータは有効なGSプロファイルIDを含む必要があります。一度もログインしていない仮ログインIDを含むデータではエラー(DWC_RNK_ERROR_INIT_INVALID_USERDATA)が発生します。
		</P>
		<P>
		  エラーやキャンセルで中断したときは、一度<a href="DWC_RnkShutdown.html">DWC_RnkShutdown</a>関数で終了処理をしてから再度呼び出す必要があります。
		</P>
		<P>
		  通信用秘密鍵文字列はゲームタイトル毎に発行されます。サーバは、この秘密鍵文字列によりゲームタイトルを識別します。弊社担当者がゲームタイトル用に秘密鍵文字列を発行し、サーバをセットアップするまでランキングライブラリを使用することは出来ません。
		</P>
		<P>
		汎用ランキング機能はGameSpyサーバを使用しており、開発向けサーバと製品向けサーバの２種類が提供されますが、この切り替えは<a href="DWC_SetAuthServer.html">DWC_SetAuthServer</a>関数による認証サーバの切り替えにあわせて行なわれます。<BR>
		また、開発向けと製品向けのサーバはデータベースがお互いに独立しているため、双方のランキングは異なるものとして構成されます。
		</P>

		<H2>引数</H2>
		<TABLE border="1">
			<TBODY>
				<TR>
					<TD width="25%"><EM><STRONG><CODE>initdata</CODE></STRONG></EM></TD>
					<TD width="75%">通信用秘密鍵文字列</TD>
				</TR>
				<TR>
					<TD width="25%"><EM><STRONG><CODE>userdata</CODE></STRONG></EM></TD>
					<TD width="75%">ユーザーデータ</TD>
				</TR>
			</TBODY>
		</TABLE>

		<H2>返り値</H2>
		<TABLE border="1">
			<TBODY>
				<TR>
					<TD width="25%"><EM><STRONG><CODE>DWC_RNK_SUCCESS</CODE></STRONG></EM></TD>
					<TD width="75%">成功</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>DWC_RNK_ERROR_INIT_ALREADYINITIALIZED</CODE></STRONG></EM></TD>
					<TD width="75%">初期化済</TD>
				</TR>
				<TR>
					<TD width="25%"><EM><STRONG><CODE>DWC_RNK_ERROR_INIT_INVALID_INITDATASIZE</CODE></STRONG></EM></TD>
					<TD width="75%">不正な初期化データサイズ</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>DWC_RNK_ERROR_INIT_INVALID_INITDATA</CODE></STRONG></EM></TD>
					<TD width="75%">不正な初期化データ</TD>
				</TR>
				<TR>
					<TD><EM><STRONG><CODE>DWC_RNK_ERROR_INIT_INVALID_USERDATA</CODE></STRONG></EM></TD>
					<TD width="75%">不正なユーザーデータ</TD>
				</TR>
			</TBODY>
		</TABLE>

		<H2>参照</H2>
		<P>
			<a href="DWC_RnkShutdown.html">DWC_RnkShutdown</a>,
			<a href="DWC_SetAuthServer.html">DWC_SetAuthServer</a>
		</P>

		<H2>履歴</H2>
		<P>
			2006/07/24 開発向け/製品向けサーバに関する説明を追記<BR>
			2006/07/21 語句統一<BR>
			2006/04/14 初版<BR>
		</P>

	</BODY>
</HTML>
