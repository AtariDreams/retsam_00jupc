■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
■                                                                          ■
■  Readme.txt                                                              ■
■                                                                          ■
■  Pokemon Platinum Wi-Fiひろば Admin Tool                                 ■
■                                                                          ■
■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■

1. はじめに
==============================================================================

　本ツールはポケモンプラチナのWi-Fiひろばを管理するツールです。
スケジュールやVIPの設定を変更することができます。


2. 動作環境
==============================================================================

　本プログラムの実行には、.NET Framework 2.0及び.NET Framework 2.0 日本語 
Language Packがインストールされている必要があります。インストールされていない場
合は、Windows Updateなどからインストールしてください。

　また、サーバーと通信を行うため、使用するコンピューターがインターネットへアク
セスできる必要があります。HTTP通信を行いますので、HTTPプロキシが必要な場合は「設
定＞プロキシ設定...」で設定してください。


3. 使い方
==============================================================================

　本プログラムを起動するには、AdminTool.exeを実行します。

　メニューの「設定＞接続サーバ」で接続するサーバをデバッグサーバ、リリースサー
バから選択することができます。「開発用サーバ」は任天堂での開発、テスト用ですの
で使用できません。

　本プログラムのメインフォームは、タブによって分かれています。


◆スケジュール設定タブ

　Wi-Fiひろばで使用されるスケジュール設定を行います。

◇クライアント用データ取得

　ゲーム内で取得するスケジュールと同じものを取得します。セットしたスケジュール
の確認に使用してください。

◇新規追加

　+のアイコンをクリックするかスケジュールリスト(ウィンドウ右下のリストです。)の
一番下の行をクリックしてスケジュールレコードを新しく作成します。スケジュールレ
コードとはある期間から次のスケジュール開始までのスケジュールを決めたものです。
スケジュールリストの1行が一つのスケジュールレコードに当たります。

◇削除

　×のアイコンをクリックして今選択しているスケジュールレコードを削除します。

◇設定を開く

　以前保存したスケジュール設定ファイルを開きます。サンプルとして
SampleSchedule.xmlを用意しています。

◇設定を保存

　今スケジュールリストにあるデータをファイルに保存します。

◇複製

　今選択している行スケジュールレコードを複製します。

◇設定データ取得

　サーバに現在設定されているスケジュールリストを取得します。

◇設定データセット

　現在のスケジュールリストをサーバに登録します。設定に不備があるときは登録でき
ません。赤くなっている行を修正してください。

◇スケジュールレコードの編集方法

　レコードの一番左に*印がついているものはまだ追加されていない仮のレコードです。
この行を編集すると自動的に行が追加されます。上部のナビゲーションバーの＋ボタン
をクリックすることでも追加できます。行を選択してDeleteキーかナビゲーションバー
の×ボタンを押すと削除できます。イベント数の列はクリックすると別のダイアログが
開きます。
　セルを選択しCtrl-Cでコピー、Ctrl-Vでペーストを行えます。矩形に選択したデータ
のみコピー＆ペーストできます。ペーストする際は選択されたセルの内もっとも左上の
物を基準に、右下へとデータが貼り付けられます。互換性の無いセルへのペーストはで
きません。
　選択は左クリック(ドラッグ可)するか、右クリックで行えます。イベント数の列を単
一選択する際は右クリックを用いてください。

・開始日
　2000年から2200年の範囲で入力してください。次のスケジュールの開始日までそのス
ケジュールが使用されます。少なくとも一つ以上現在より過去の開始日のスケジュール
が必要です。

・ロック時間
　最初にWi-Fiひろばに入った時刻から締め切るまでの時間(秒)を入力してください。

・フラグ
　あしあとボードでアルセウスの足跡を許可する場合は1、許可しない場合は0を入力し
てください。

・各属性
　部屋が各属性になる確率を合計が100になるようにパーセンテージを入力してください。

・季節
　NORMAL:通常、SPRING:春、SUMMER:夏、AUTUMN:秋、WINTER:冬で指定してください。

・イベント数
　クリックするとイベント編集ダイアログが表示されます。

◇イベント編集ダイアログ

　Wi-Fiひろばを締め切ってから発生させるイベントを設定します。発生させる秒数と
イベントの種類を指定します。編集が完了したらOKボタンを押してください。編集が終
了すると自動的に時刻でソートされるので時刻順になるように編集する必要はありませ
ん。


◆VIP設定タブ

　Wi-Fiひろばで使用されるVIPの設定を行います。

◇クライアント用データ取得

　ゲーム内で取得するVIPデータと同じものを取得します。セットしたVIPの確認に使用
してください。入力したクライアント側トレーナーIDによって取得されるキーが変化し
ます。

◇設定を開く

　以前保存したVIP設定ファイルを開きます。サンプルとしてSampleVip.xmlを用意して
います。

◇設定を保存

　今VIP設定リスト(右下のリストです。)にあるデータをファイルに保存します。

◇設定データ取得

　サーバに現在設定されているVIP設定リストを取得します。

◇設定データセット

　現在のVIP設定リストをサーバに登録します。設定に不備があるときは登録できません。
赤くなっている行を修正してください。

◇VIP設定リストの編集方法

　編集方法はスケジュールと同一です。VIPの有効期限とProfileIDとイベントIDを指定
します。イベントIDは合言葉を生成するための種になります。同じ人を二回以上VIPにす
るときに異なる合言葉を生成するために使用します。イベントIDを0にすると合言葉なし
になります。


◆VIP確認タブ

　VIPのキーと合言葉を確認できます。このキーはサーバで生成されるものと同一です。


◆アンケートスペシャルウィークタブ

　現在のアンケート情報取得ボタンでROMが取得するのと同じアンケート情報を取得でき
ます。

　通常の質問とは異なった質問を出題する週をスペシャルウィークとして設定できます。
質問通し番号はスペシャルウィークとして設定する週を示します。質問通し番号は毎週
インクリメントされていきます。設定した質問通し番号と一致したときにそのスペシャ
ルウィーク設定が使用されます。質問Noはその言語に出題する質問番号です。0-59のROM
内質問もしくは1000-1009の任意質問のいずれかを指定します。質問種類の欄では集計す
る言語の種類を設定できます。任意の32bitの値を指定します。等しい質問種類の言語間
で集計が行われます。例えば日本：1, 英語：2, フランス語：2, イタリア語：1とした
場合は日本とイタリア語がまとめて集計され、さらに英語とフランス語もまとめて集計
されることになります。

　任意質問を出題することにした場合は後述の任意質問を必ず設定してください。


◆アンケート任意質問タブ

　各言語ごとに1000-1009の任意質問を設定します。ゲーム内文字コードに変換できない
文字はセットできません。(セット時に警告が出ます。)質問文に<LF>と入力すると改行
になります。

　取得、登録ボタンで全言語、全質問番号を取得、登録します。ここで登録した文章は
翌週にも先週の結果として使用されます。イベントの週及びその翌週の間は変更しない
でください。誤って編集しないために、1000から順番に使用していくことを推奨します。


◆アンケート管理

　ここではデバッグ用にアンケート回答の提出と、パラメータ変更、更新と初期化がで
きます。
「先週と今週の質問通し番号」をセットすると、次回更新時に先週の質問通し番号が指
定した値になり、今週の質問通し番号が指定した値+1になります。
「今週の質問番号」をセットすると、次回更新時に先週の質問番号が通常通り今週の質
問番号となり、今週の質問番号が指定した値になります。
「先週と今週の質問番号」をセットすると、次回更新時に先週の質問番号が指定した値
になり、今週の質問番号が指定した値+1になります。
「特別質問閾値」をセットすると、通常質問と特別質問の範囲を変更できます。ROM内質
問は60問ですが、ここで指定した質問番号に到達すると質問番号0に戻り、それ以降の質
問が使用されなくなります。つまりその部分が特別質問となります。特別質問はスペシャ
ルウィークで指定することができます。
「デフォルト集計言語」ではスペシャルウィーク以外のときにどの言語の回答を集計し
たかを表すものです。日本語版が発売されたときは日本のみのチェック、その他のバー
ジョンが発売されたときにその言語をチェックすることになります。
「アンケートの更新」は本来毎週一回行われる更新を強制的に行うものです。
「質問番号、質問通し番号、特別質問閾値、投票結果を初期化して更新」押すと、先週
の質問番号を-1、今週の質問番号を0、特別質問閾値を50にして更新を行います。デフォ
ルト集計言語、スペシャルウィーク設定、任意質問設定は変更されません。


◆ID変換器タブ

　フレンドコードからProfileID、ProfileIDからユーザIDを求めます。フレンドコードが
サーバから返されたProfileIDと一致するかの確認などにご使用下さい。


◆不正チェックタブ

　Wi-Fiひろばで行われている不正チェックを試すことができます。ユーザ名のチェック
では一部の文字をUnicodeからゲーム内文字コードに変換できませんのでご注意ください。


4. ソースコード
==============================================================================

　本プログラムのソースコードを"tools/PpwAdminTool/src"以下に収録しています。
Microsoft Visual Studio 2005などでAdminTool.slnを開いてビルドすることができます。

　プロジェクトを初めて開いたとき、MainForm.csを開こうとすると「デザイナの読み込
み時に 1 つ以上のエラーが発生しました。・・・」というエラーが表示されることがあ
ります。一度ビルドを行った後、MainForm.csを開き直してください。


==============================================================================


【更新履歴】

■ 2008/07/01 1_0_0 beta 10

・beta9で改行のゲーム内コードが誤っていたのを修正しました。(0x00e0→0xe000)

■ 2008/07/01 1_0_0 beta 9

・アンケート任意質問の設定で、質問文に<LF>と入力すると改行をするようにしました。

■ 2008/06/26 1_0_0 beta 8

・VIP合い言葉単語リスト(日本語)を更新しました。
・スペシャルウィーク設定で、スペイン語の質問種類を正しくセットできなかったバグ
  を修正しました。

■ 2008/06/18 1_0_0 beta 7

・質問番号、特別質問番号の閾値、デフォルト集計言語の変更、初期化をできるように
  しました。

■ 2008/06/16 1_0_0 beta 6

・現在のアンケート情報取得でスペシャルウィークかどうかの表示をするようにしまし
  た。

■ 2008/06/13 1_0_0 beta 5

・アンケート機能に対応しました。

■ 2008/05/27 1_0_0 beta 4

・不正チェックをテストする機能を付けました。

■ 2008/05/07 1_0_0 beta 3

・合言葉の種をクライアント側PIDからトレーナーIDに変更しました。
・HTTPプロキシに対応しました。
・スケジュール設定及びVIP設定編集時にCtrl-CとCtrl-Vでセルごとにコピー＆ペースト
  をできるようにしました。
・その他編集をしやすくしました。

■ 2008/04/16 1_0_0 beta 2

・日本語の合言葉を確認できるようにしました。

■ 2008/04/14 1_0_0 beta 1

・初回リリース。
