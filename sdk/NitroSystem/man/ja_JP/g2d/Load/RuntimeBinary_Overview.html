<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>RuntimeBinary_Overview</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>
<h1 align="left">ランタイムバイナリファイル概要</h1>
<H2>概念図</H2>
<P><BR>
<IMG src="image3.gif" border="0" width="746" height="368"></P>
<H2>説明</H2>
Ｇ2Dライブラリが用いるバイナリデータの種類と、その構造について説明します。
概念図に示されたデータはバイナリファイルの形でROMに格納し、必要となった時にユーザがメインメモリに読み出して、Ｇ2Dライブラリに設定します。




<h2>キャラクタデータ(.ncgr .ncbr ファイル)</h2>
キャラクタデータは、VRAMに格納される画像情報が格納されています。<BR>
キャラクタデータは、バイナリコンバータによりNITRO-CHARACTERバイナリの.ncgファイルから作成されます。<BR>
ランタイムバイナリに ncgr,ncbrの2種類のフォーマットが存在します。<BR>
2D グラフィックスエンジン での描画に使用する場合は、8×8画素ごとに画素が整列した、キャラクタフォーマット（ncgr）で出力する必要があります。<BR>
３D グラフィックスエンジン での描画に使用する場合は、
画素が元画像の画素ラインどおりに整列した、ビットマップフォーマット（ncbr）で出力する必要があります。<BR>
OBJ用のキャラクタデータには、1Dマッピング、2Dマッピングの2方式のマッピング方式が存在します。<BR>
マッピング方式によって、キャラクタの整列方法が異なります。<BR>
コンバータはマッピング方式に関する情報を取得するのにnceファイルが必要となる点にご注意ください。<BR>
BG用のキャラクタデータは2Dマッピング方式のみが存在し、nceファイルを必要としませんが、
コンバータはキャラクタデータがOBJ用かBG用かを判断する方法を持たないので、
-bgオプションを指定してコンバートを行うようにしていただく必要があります。<BR>
なお、nscファイル変換の際には、自動的に-bgオプションが指定されています。


<h2>カラーパレットデータ（.nclrファイル）</h2>
カラーパレットデータはグラフィックスエンジンに読み込まれる、
カラーパレット情報が格納されています。<BR>
バイナリコンバータによりNITRO-CHARACTERバイナリファイルの.ncl ファイルから作成されます。

<h2>アニメーションデータ（.nanr, .nmarファイル）</h2>
アニメーションデータは、セルアニメーションまたはマルチセルアニメーションが格納されたデータです。<BR>
アニメーションデータは、
NITRO-CHARACTERバイナリファイルの.nceファイルまたは
.nmcファイルのアニメーションシーケンスデータから作成され、
.nanr, .nmarという拡張子を持つバイナリファイルとして出力されます。<BR>
<BR>
アニメーションデータは、変化するパラメータの種類に応じて、
複数のフォーマット種類を持ちます。<BR>
現在はセル（マルチセル）番号のみ、
セル（マルチセル）番号＋SRT（スケール、回転、平行移動）値、セル（マルチセル）番号＋T（平行移動）の3種類がサポートされています。<BR>


<h2>セルデータ（.ncerファイル）</h2>
セルデータは、セルデータのリストが格納されています。<BR>
セルデータは、バイナリコンバータによりNITRO-CHARACTERバイナリファイルの
.nceファイル内のセルリストから作成され、.ncerという拡張子を持つバイナリファイルとして出力されます。<BR>
VRAM転送アニメーションの際に必要となる情報も本ファイルに格納されます（コンバートの際に、-vtaオプションを指定）。<BR>

<h2>マルチセルデータ（.nmcrファイル）</h2>
マルチセルデータは、マルチセルデータのリストが格納されています。<BR>
マルチセルデータは、バイナリコンバータによりNITRO-CHARACTERバイナリファイルの.nmcファイル内のマルチセルリストから作成され、
.nmcrという拡張子を持ったバイナリファイルとして出力されます。<BR>
<BR>

<h2>エンティティデータ（.nenrファイル）</h2>
エンティティデータは、複数のアニメーションシーケンス番号が格納されたデータで、
多数のアニメーションデータをグループ毎に分類し、管理し易くするために用意されています。<BR>
エンティティデータは、Entity定義テキスト情報からBuildNENR.exeによって変換され、.nenr、nmarという拡張子のバイナリファイルとして出力されます。<BR>
<h2>スクリーンデータ(.nscrファイル) </h2>
<P><IMG src="image.gif" border="0" width="526" height="271"><BR>
</P>
<P>
スクリーンデータはBGの表示に用いられるスクリーン情報が格納されています。<BR>
バイナリコンバータによりNITRO-CHARACTERバイナリファイルの.nscファイルから作成されます。</P>
<h2>参照</h2>
<p>
なし
</p>
<H2>履歴</H2>
<P>2004/12/06 初版</P>
</body>
</html>
