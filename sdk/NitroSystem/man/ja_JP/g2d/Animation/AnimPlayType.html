<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<title>AnimPlayType</title>
<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</head>

<body>
<h1 align="left">アニメーションの再生モード</h1>


<H2>説明</H2>
アニメーションコントローラ は、アニメーションを再生させる方法として、大きくワンタイム再生モードとリピート再生モードの２種類のモードを持っています。
以下にこれらの再生モードについて説明します。


<h2>ワンタイム再生モード</h2>
<P><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-size:
12.0pt;font-family:Century;mso-fareast-font-family:"ＭＳ Ｐ明朝";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:
JA;mso-bidi-language:AR-SA'><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:416.4pt;
 height:56.4pt' o:ole="">
 <v:imagedata src="file:///C:\DOCUME~1\KITANI~1\LOCALS~1\Temp\msohtml1\01\clip_image001.wmz"
  o:title=""/>
</v:shape><![endif]--><IMG width="555" height="75" src="AnimType001.gif" v:shapes="_x0000_i1025"><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="MSDraw.Drawing.8.2" ShapeID="_x0000_i1025"
  DrawAspect="Content" ObjectID="_1162366969">
 </o:OLEObject>
</xml><![endif]--></span></P>
<BR>
アニメーションを1度だけ再生します。アニメーションの最終フレームを再生した後、アニメーションは停止します。
<h2>リピート再生モード</h2>
<P><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-size:
12.0pt;font-family:Century;mso-fareast-font-family:"ＭＳ Ｐ明朝";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:
JA;mso-bidi-language:AR-SA'><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:416.4pt;
 height:62.4pt' o:ole="">
 <v:imagedata src="file:///C:\DOCUME~1\KITANI~1\LOCALS~1\Temp\msohtml1\01\clip_image001.wmz"
  o:title=""/>
</v:shape><![endif]--><IMG width="555" height="83" src="clip_image0021.gif" v:shapes="_x0000_i1025"><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="MSDraw.Drawing.8.2" ShapeID="_x0000_i1025"
  DrawAspect="Content" ObjectID="_1162367425">
 </o:OLEObject>
</xml><![endif]--></span></P>
<BR>
アニメーションを繰り返し再生します。アニメーションには、リピートフレームを持ち、最終フレームを再生した後、指定されているリピートフレームにジャンプすることにより、アニメーションを繰り返して再生します。アニメーションの開始フレームとリピートフレームの前までは、一度しか再生されません。
<h2>往復再生モード</h2>
<P><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-size:
12.0pt;font-family:Century;mso-fareast-font-family:"ＭＳ Ｐ明朝";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:
JA;mso-bidi-language:AR-SA'><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:416.4pt;
 height:57pt' o:ole="">
 <v:imagedata src="file:///C:\DOCUME~1\KITANI~1\LOCALS~1\Temp\msohtml1\01\clip_image001.wmz"
  o:title=""/>
</v:shape><![endif]--><IMG width="555" height="76" src="clip_image0022.gif" v:shapes="_x0000_i1025"><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="MSDraw.Drawing.8.2" ShapeID="_x0000_i1025"
  DrawAspect="Content" ObjectID="_1162367560">
 </o:OLEObject>
</xml><![endif]--></span><BR>
</P>
アニメーションの最終フレームを再生した後、リピートフレームに向かって逆再生を行います。逆再生でリピートフレームの表示が完了した後、アニメーションは停止します。アニメーションの開始フレームとリピートフレームの前までは、一度しか再生されません。
<h2>往復リピート再生モード</h2>
<P><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-size:
12.0pt;font-family:Century;mso-fareast-font-family:"ＭＳ Ｐ明朝";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:
JA;mso-bidi-language:AR-SA'><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:416.4pt;
 height:58.2pt' o:ole="">
 <v:imagedata src="file:///C:\DOCUME~1\KITANI~1\LOCALS~1\Temp\msohtml1\01\clip_image001.wmz"
  o:title=""/>
</v:shape><![endif]--><IMG width="555" height="78" src="clip_image0023.gif" v:shapes="_x0000_i1025"><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="MSDraw.Drawing.8.2" ShapeID="_x0000_i1025"
  DrawAspect="Content" ObjectID="_1162367595">
 </o:OLEObject>
</xml><![endif]--></span></P>
<BR>
アニメーションのリピートフレームと最終フレームの間の往復再生を繰り返します。アニメーションの開始フレームとリピートフレームの前までは、一度しか再生されません。
<h1>アニメーションの特殊再生機能</h1>
<H2>説明</H2>
アニメーションコントローラでは、以下に示すような特殊なアニメーションの再生を行う事が出来ます。

<H2>逆再生</H2>
<P><span lang=EN-US style='font-size:9.0pt;mso-bidi-font-size:
12.0pt;font-family:Century;mso-fareast-font-family:"ＭＳ Ｐ明朝";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:1.0pt;mso-ansi-language:EN-US;mso-fareast-language:
JA;mso-bidi-language:AR-SA'><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:416.4pt;
 height:69pt' o:ole="">
 <v:imagedata src="file:///C:\DOCUME~1\KITANI~1\LOCALS~1\Temp\msohtml1\01\clip_image001.wmz"
  o:title=""/>
</v:shape><![endif]--><IMG width="555" height="92" src="clip_image0024.gif" v:shapes="_x0000_i1025"><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="MSDraw.Drawing.8.2" ShapeID="_x0000_i1025"
  DrawAspect="Content" ObjectID="_1162367633">
 </o:OLEObject>
</xml><![endif]--></span><BR>
</P>
アニメーションを最終フレームから逆方向に再生することが可能です。ワンタイム再生モードでは、最初のフレームを再生した後に、アニメーションは停止します。リピート再生モードでは、リピートフレームを再生した後、最終フレームにジャンプします。よって、リピート再生モードでの逆再生の場合、開始フレームから、リピートフレームまでのアニメーションは再生されないことになります。
<H2>更新フレーム倍率変更</H2>

アニメーションコントローラはアニメーション更新の際に、アニメーションの更新フレーム倍率を変更する事が出来ます。更新フレーム倍率はfx32型で指定し、1.0より大きい場合はアニメーションが早く、1.0より小さい場合には、アニメーションが遅くなります。コントローラ内部では、更新フレーム倍率にアニメーション再生スピードが乗算され、実際の更新フレーム数が決定されています。
なお、更新フレーム倍率にたいしてマイナスの値は設定不能です。

<H2>コールバック関数の呼び出し機能</H2>
アニメーションコントローラは、アニメーションの特定のフレームを再生した時に、ユーザが何らかの処理を行う事が出来るようにコールバック関数を呼び出す機能を持っています。コールバック関数は、以下に示す３種類のタイミングで呼び出されるように設定することが可能です。<BR>
アニメーションを構成するセルまたはマルチセルが切り替わる度にコールバック関数を呼び出す。<BR>
アニメーション中の指定した特定のセルまたはマルチセルが表示された時にコールバック関数を呼び出す。<BR>
アニメーションの最終フレームでコールバック関数を呼び出す。<BR>
<BR>
コールバック関数には、ユーザが指定した４バイトのデータを１つだけ渡す事が出来ます。<BR>

<h2>参照</h2>
<p>
なし
</p>
<H2>履歴</H2>
<P>2004/12/06 初版</P>
</body>
</html>
