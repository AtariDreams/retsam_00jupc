<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
	<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<META http-equiv="Content-Style-Type" content="text/css">
	<TITLE>NNS_GfdAllocLnkPlttVram</TITLE>
	<LINK rel="stylesheet" href="../../css/nitro.css" type="text/css">
</HEAD>

<BODY>

<H1 align="left">NNS_GfdAllocLnkPlttVram</H1>

<H2>構文</H2>
<DL>
  <DD>
  <PRE><CODE>#include &lt;nnsys/gfd.h&gt;</CODE></PRE>
  <PRE><CODE>NNSGfdPlttKey NNS_GfdAllocLnkPlttVram( u32 szByte, BOOL b4Pltt, u32 opt );</CODE></PRE>
</DL>

<H2>引数</H2>
<TABLE border="1" width="100%">
  <TBODY>
    <TR>
      <TD width="13%"><EM><STRONG>szByte</STRONG></EM></TD>
      <TD width="87%">確保したい領域のバイトサイズ( 8 - 524280 バイト ) </TD>
    </TR>
    <TR>
      <TD width="13%"><EM><STRONG>b4Pltt</STRONG></EM></TD>
      <TD width="87%">4色パレットか。4色パレットならTRUE。</TD>
    </TR>
    <TR>
      <TD width="13%"><EM><STRONG>opt</STRONG></EM></TD>
      <TD width="87%">オプション。現在は使用されていません。</TD>
    </TR>
  </TBODY>
</TABLE>

<H2>返り値</H2>
<P>確保したVRAM領域を表すパレットキーを返します。
確保に失敗した場合は、エラーを示すキーであるNNS_GFD_ALLOC_ERROR_PLTTKEYを返します。<BR>
</P>
<H2>説明</H2>
<P>
テクスチャパレットとして使用するVRAM領域を確保し、パレットキーとして取得します。
b4PlttにTRUEが指定されている場合には、4色パレット用メモリを確保します。<BR>
(4色パレットは、8バイトアライメントが必要であったり、0x10000 以上の領域では参照が不可能であるなど、
4色パレット特有の制限を持っています。)<BR>
アラインメント調整などで発生した空き領域は、空き領域ブロックとして登録されます。<BR>
新たな管理情報ブロックが不足した場合は、確保に失敗します。<BR>
不要なアラインメント調整を防ぐために、4色パレット用メモリとその他フォーマットパレット用メモリの確保を分類し、
ある程度まとめて行うことを推奨いたします。<BR>

<p>
キーが表現可能な最小サイズより小さなサイズの確保請求があった場合、請求サイズを最小サイズに切り上げて確保します。<BR>
キーが表現可能な最大サイズより大きなサイズの確保請求があった場合、確保処理を行わずエラーキーを返します。
</p>

</P>

<H2>参照</H2>
<P><CODE>
<P>2005/01/31 サイズの値域に関する注意書きを追加</P>
<A href="NNS_GfdFreeLnkPlttVram.html">NNS_GfdFreeLnkPlttVram</A>
</CODE></P>

<H2>履歴</H2>
<P>2004/10/12 初版</P>
</BODY>

</HTML>
